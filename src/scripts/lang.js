export const LANG = {
  de: {
    languageName: "Deutsch (Schweiz)",
    system: {
      ready: "Alles klar, los gehtâ€™s.",
      saved: "Speichern abgeschlossen.",
      error: "Upsâ€¦ da ging was schief.",
      loading: "Lade Datenâ€¦",
      noData: "Keine Daten gefunden."
    },
    auth: {
      login: "Einloggen",
      email: "Eâ€‘Mail",
      password: "Passwort eingeben",
      in: "Du bist jetzt drin.",
      out: "Du bist jetzt draussen.",
      disabled: "Dein Konto ist deaktiviert.",
      skip: "Intro Ã¼berspringen"
    },
    nav: {
      dashboard: "Dashboard",
      analysis: "Ãœbersicht & Dashboard",
      employees: "Mitarbeiter",
      products: "Produkte",
      tasks: "Aufgaben",
      time: "Zeiterfassung",
      support: "Support",
      admin: "Admin Panel",
      logout: "Logout"
    },
    roles: {
      admin: "Administrator",
      manager: "Manager",
      support: "Support",
      employee: "Mitarbeiter",
      guest: "Gast"
    },
    admin: {
      createUser: "Neuen Benutzer erstellen",
      deleteUser: "Benutzer lÃ¶schen",
      changeRole: "Rolle Ã¤ndern",
      saved: "Alles gespeichert.",
      confirm: "Bist du sicher?",
      emailInUse: "Diese Eâ€‘Mail wird bereits verwendet.",
      invalidEmail: "UngÃ¼ltige Eâ€‘Mail-Adresse.",
      weakPassword: "Passwort ist zu schwach.",
      auditLog: "Audit Log",
      refresh: "Aktualisieren",
      searchAudit: "Suche im Audit Logâ€¦"
    },
    dashboard: {
      overview: "Ãœbersicht",
      analysis: "Ãœbersicht & Dashboard",
      totalProducts: "Total Produkte",
      totalEmployees: "Total Mitarbeiter",
      totalTasks: "Total Aufgaben",
      totalHours: "Total Stunden",
      totalTickets: "Total Tickets",
      quickLinks: "Direktzugriff",
      quickProducts: "Verwalte deine Artikel und BestÃ¤nde.",
      quickTasks: "Organisiere deine Toâ€‘Dos und Teamaufgaben.",
      quickTime: "Behalte deine Arbeitszeit im Blick.",
      quickEmployees: "Pflege und verwalte deine Teamdaten.",
      quickSupport: "Bearbeite SupportfÃ¤lle und Tickets.",
      quickAdmin: "Verwalte Benutzer und Rollen.",
      openProducts: "Produktverwaltung Ã¶ffnen",
      openTasks: "Aufgabenmanagement Ã¶ffnen",
      openTime: "Zeiterfassung Ã¶ffnen",
      openEmployees: "Mitarbeiterverwaltung Ã¶ffnen",
      openSupport: "Support Ã¶ffnen",
      openAdmin: "Admin Panel Ã¶ffnen"
    },
    employees: {
      title: "Mitarbeiterverwaltung",
      new: "Neuen Mitarbeiter hinzufÃ¼gen",
      overview: "MitarbeiterÃ¼bersicht",
      number: "Nummer",
      name: "Name",
      email: "Eâ€‘Mail",
      phone: "Telefon",
      address: "Adresse",
      birthday: "Geburtstag",
      id: "Mitarbeiterâ€‘Nr.",
      role: "Rolle",
      status: "Status",
      save: "Mitarbeiter speichern",
      actions: "Aktionen",
      delete: "LÃ¶schen",
      edit: "Bearbeiten",
      disable: "Deaktivieren",
      enable: "Aktivieren",
      disabled: "Deaktiviert",
      enabled: "Aktiv",
      active: "Aktiv"
    },
    products: {
      title: "Produktverwaltung",
      add: "Neues Produkt hinzufÃ¼gen",
      overview: "ProduktÃ¼bersicht",
      name: "Produktname",
      description: "Beschreibung",
      type: "Typ",
      vendor: "Anbieter",
      collections: "Kollektionen",
      sku: "SKU",
      ean: "EAN",
      stock: "Bestand",
      price: "Preis (CHF)",
      category: "Kategorie",
      updateStock: "Bestand aktualisieren",
      save: "Speichern",
      export: "Exportieren fÃ¼r Shopify",
      delete: "LÃ¶schen",
      actions: "Aktionen",
      deleteAll: "Alles lÃ¶schen"
    }
  },
  en: {
    languageName: "English",
    system: {
      ready: "Alright, letâ€™s go.",
      saved: "Saved.",
      error: "Oopsâ€¦ something went wrong.",
      loading: "Loadingâ€¦",
      noData: "No data found."
    },
    auth: {
      login: "Sign in",
      email: "Email",
      password: "Enter your password",
      in: "Youâ€™re in.",
      out: "Youâ€™re out.",
      disabled: "Your account is disabled.",
      skip: "Skip intro"
    },
    nav: {
      dashboard: "Dashboard",
      analysis: "Overview & dashboard",
      employees: "Employees",
      products: "Products",
      tasks: "Tasks",
      time: "Time tracking",
      support: "Support",
      admin: "Admin Panel",
      logout: "Logout"
    },
    roles: {
      admin: "Administrator",
      manager: "Manager",
      support: "Support",
      employee: "Employee",
      guest: "Guest"
    },
    admin: {
      createUser: "Create new user",
      deleteUser: "Delete user",
      changeRole: "Change role",
      saved: "All set.",
      confirm: "Are you sure?",
      emailInUse: "This email is already in use.",
      invalidEmail: "Invalid email address.",
      weakPassword: "Password is too weak.",
      auditLog: "Audit Log",
      refresh: "Refresh",
      searchAudit: "Search audit logâ€¦"
    },
    dashboard: {
      overview: "Overview",
      analysis: "Overview & dashboard",
      totalProducts: "Total products",
      totalEmployees: "Total employees",
      totalTasks: "Total tasks",
      totalHours: "Total hours",
      totalTickets: "Total tickets",
      quickLinks: "Quick access",
      quickProducts: "Manage your products and stock.",
      quickTasks: "Organize your tasks and team work.",
      quickTime: "Track your working hours.",
      quickEmployees: "Manage your team data.",
      quickSupport: "Handle support tickets.",
      quickAdmin: "Manage users and roles.",
      openProducts: "Open product management",
      openTasks: "Open task management",
      openTime: "Open time tracking",
      openEmployees: "Open employee management",
      openSupport: "Open support",
      openAdmin: "Open admin panel"
    },
    employees: {
      title: "Employee management",
      new: "Add new employee",
      overview: "Employee overview",
      number: "Number",
      name: "Name",
      email: "Email",
      phone: "Phone",
      address: "Address",
      birthday: "Birthday",
      id: "Employee ID",
      role: "Role",
      status: "Status",
      save: "Save employee",
      actions: "Actions",
      delete: "Delete",
      edit: "Edit",
      disable: "Disable",
      enable: "Enable",
      disabled: "Disabled",
      enabled: "Active",
      active: "Active"
    },
    products: {
      title: "Product management",
      add: "Add new product",
      overview: "Product overview",
      name: "Product name",
      description: "Description",
      type: "Type",
      vendor: "Vendor",
      collections: "Collections",
      sku: "SKU",
      ean: "EAN",
      stock: "Stock",
      price: "Price (CHF)",
      category: "Category",
      updateStock: "Update stock",
      save: "Save",
      export: "Export for Shopify",
      delete: "Delete",
      actions: "Actions",
      deleteAll: "Delete all"
    }
  }
};

// ======================================================================
// ðŸ”§ Sprachsteuerung
// ======================================================================

export let currentLang = localStorage.getItem("lang") || "de";

export function setLang(langCode) {
  if (!LANG[langCode]) {
    console.warn(`âš ï¸ Sprache '${langCode}' existiert nicht â€“ fallback auf 'de'`);
    langCode = "de";
  }
  currentLang = langCode;
  localStorage.setItem("lang", langCode);
}

export function getLang() {
  return currentLang;
}

export function t(path) {
  if (!path || typeof path !== "string") return "";
  const parts = path.split(".");
  let value = LANG[currentLang];
  for (const p of parts) {
    if (!value || typeof value !== "object" || !(p in value)) {
      console.warn(`âš ï¸ Fehlender ÃœbersetzungsschlÃ¼ssel: '${path}' in '${currentLang}'`);
      return path;
    }
    value = value[p];
  }
  return typeof value === "string" ? value : path;
}

// ======================================================================
// ðŸ”„ UI dynamisch Ã¼bersetzen
// ======================================================================

export function updateTranslations() {
  document.querySelectorAll("[data-i18n]").forEach(el => {
    const key = el.getAttribute("data-i18n");
    const translation = t(key);
    if (translation) el.textContent = translation;
  });

  document.querySelectorAll("[data-i18n-placeholder]").forEach(el => {
    const key = el.getAttribute("data-i18n-placeholder");
    const translation = t(key);
    if (translation) el.setAttribute("placeholder", translation);
  });
}
