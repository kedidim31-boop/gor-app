export const LANG = {
  // ============================================================
  // üá©üá™ Deutsch (Schweiz)
  // ============================================================
  de: {
    languageName: "Deutsch (Schweiz)",
    system: { ready: "Alles klar, los geht‚Äôs.", saved: "Speichern abgeschlossen.", error: "Ups‚Ä¶ da ging was schief.", loading: "Lade Daten‚Ä¶", noData: "Keine Daten gefunden." },
    auth: { login: "Einloggen", email: "E‚ÄëMail", password: "Passwort eingeben", in: "Du bist jetzt drin.", out: "Du bist jetzt draussen.", disabled: "Dein Konto ist deaktiviert." },
    nav: { dashboard: "Dashboard", employees: "Mitarbeiter", products: "Produkte", tasks: "Aufgaben", time: "Zeit", support: "Support", admin: "Admin", logout: "Logout" },
    roles: { admin: "Administrator", manager: "Manager", support: "Support", employee: "Mitarbeiter", guest: "Gast" },
    admin: { createUser: "Neuen Benutzer erstellen", deleteUser: "Benutzer l√∂schen", changeRole: "Rolle √§ndern", saved: "Alles gespeichert.", confirm: "Bist du sicher?", emailInUse: "Diese E‚ÄëMail wird bereits verwendet.", invalidEmail: "Ung√ºltige E‚ÄëMail-Adresse.", weakPassword: "Passwort ist zu schwach.", auditLog: "Audit Log", refresh: "Aktualisieren", searchAudit: "Suche im Audit Log‚Ä¶" },
    dashboard: { overview: "√úbersicht", totalProducts: "Total Produkte", totalEmployees: "Total Mitarbeiter", totalTasks: "Total Aufgaben", totalHours: "Total Stunden", totalTickets: "Total Tickets" },
    employees: { name: "Name", email: "E‚ÄëMail", phone: "Telefon", address: "Adresse", birthday: "Geburtstag", id: "Mitarbeiter‚ÄëNr.", edit: "Bearbeiten", delete: "L√∂schen", disable: "Deaktivieren", enable: "Aktivieren", disabled: "Deaktiviert", enabled: "Aktiv", active: "Aktiv", role: "Rolle", status: "Status" },
    products: { name: "Produktname", stock: "Bestand", price: "Preis", category: "Kategorie", updateStock: "Bestand aktualisieren" },
    tasks: { title: "Titel", description: "Beschreibung", status: "Status", priority: "Priorit√§t", due: "F√§llig am", updateStatus: "Status √§ndern", open: "Offen", inProgress: "In Bearbeitung", done: "Erledigt", delete: "L√∂schen" },
    time: { hours: "Stunden", date: "Datum", start: "Startzeit", end: "Endzeit", comment: "Kommentar", add: "Zeit erfassen", running: "L√§uft", paused: "Pausiert", stopped: "Gestoppt" },
    support: { newTicket: "Neues Ticket", titleLabel: "Titel", titlePlaceholder: "Kurzer Titel", message: "Nachricht", messagePlaceholder: "Beschreibe das Problem‚Ä¶", priority: "Priorit√§t", low: "Niedrig", medium: "Mittel", high: "Hoch", createTicket: "Ticket erstellen", ticketOverview: "Tickets", searchPlaceholder: "Suche nach Titel / Nachricht ‚Ä¶", open: "Offen", inProgress: "In Bearbeitung", closed: "Geschlossen", comment: "Kommentar", addComment: "Kommentar hinzuf√ºgen", commentPlaceholder: "Kommentar schreiben‚Ä¶", commentAdded: "Kommentar gespeichert.", delete: "L√∂schen", dashboard: "Support Dashboard", kpiOpen: "Offene Tickets", kpiInProgress: "In Bearbeitung", kpiClosed24h: "Geschlossen (24h)", kpiOverSla: "√úber SLA", slaLow: "SLA Low: 72h", slaMedium: "SLA Medium: 48h", slaHigh: "SLA High: 24h" },
    errors: { fail: "Das hat nicht geklappt.", retry: "Bitte nochmals versuchen.", load: "Daten konnten nicht geladen werden.", permissionDenied: "Keine Berechtigung." },
    feedback: { ok: "Alles gut.", warn: "Achtung‚Ä¶", err: "Fehler." }
  },

  // ============================================================
  // üá¨üáß English
  // ============================================================
  en: {
    languageName: "English",
    system: { ready: "Alright, let‚Äôs go.", saved: "Saved.", error: "Oops‚Ä¶ something went wrong.", loading: "Loading‚Ä¶", noData: "No data found." },
    auth: { login: "Sign in", email: "Email", password: "Enter your password", in: "You‚Äôre in.", out: "You‚Äôre out.", disabled: "Your account is disabled." },
    nav: { dashboard: "Dashboard", employees: "Employees", products: "Products", tasks: "Tasks", time: "Time", support: "Support", admin: "Admin", logout: "Logout" },
    roles: { admin: "Administrator", manager: "Manager", support: "Support", employee: "Employee", guest: "Guest" },
    admin: { createUser: "Create new user", deleteUser: "Delete user", changeRole: "Change role", saved: "All set.", confirm: "Are you sure?", emailInUse: "This email is already in use.", invalidEmail: "Invalid email address.", weakPassword: "Password is too weak.", auditLog: "Audit Log", refresh: "Refresh", searchAudit: "Search audit log‚Ä¶" },
    dashboard: { overview: "Overview", totalProducts: "Total products", totalEmployees: "Total employees", totalTasks: "Total tasks", totalHours: "Total hours", totalTickets: "Total tickets" },
    employees: { name: "Name", email: "Email", phone: "Phone", address: "Address", birthday: "Birthday", id: "Employee ID", edit: "Edit", delete: "Delete", disable: "Disable", enable: "Enable", disabled: "Disabled", enabled: "Active", active: "Active", role: "Role", status: "Status" },
    products: { name: "Product name", stock: "Stock", price: "Price", category: "Category", updateStock: "Update stock" },
    tasks: { title: "Title", description: "Description", status: "Status", priority: "Priority", due: "Due date", updateStatus: "Update status", open: "Open", inProgress: "In progress", done: "Done", delete: "Delete" },
    time: { hours: "Hours", date: "Date", start: "Start time", end: "End time", comment: "Comment", add: "Add time", running: "Running", paused: "Paused", stopped: "Stopped" }
  },
  fr: {
    languageName: "Fran√ßais (Suisse)",
    system: { ready: "C‚Äôest parti.", saved: "Enregistr√©.", error: "Oups‚Ä¶ un probl√®me est survenu.", loading: "Chargement‚Ä¶", noData: "Aucune donn√©e trouv√©e." },
    auth: { login: "Connexion", email: "E-mail", password: "Entre ton mot de passe", in: "Tu es connect√©.", out: "Tu es d√©connect√©.", disabled: "Ton compte est d√©sactiv√©." },
    nav: { dashboard: "Tableau de bord", employees: "Employ√©s", products: "Produits", tasks: "T√¢ches", time: "Temps", support: "Support", admin: "Admin", logout: "D√©connexion" },
    roles: { admin: "Administrateur", manager: "Manager", support: "Support", employee: "Employ√©", guest: "Invit√©" },
    admin: { createUser: "Cr√©er un nouvel utilisateur", deleteUser: "Supprimer l‚Äôutilisateur", changeRole: "Changer le r√¥le", saved: "C‚Äôest bon.", confirm: "Tu es s√ªr ?", emailInUse: "Cet e-mail est d√©j√† utilis√©.", invalidEmail: "Adresse e-mail invalide.", weakPassword: "Mot de passe trop faible.", auditLog: "Journal d‚Äôaudit", refresh: "Actualiser", searchAudit: "Rechercher dans le journal‚Ä¶" },
    dashboard: { overview: "Vue d‚Äôensemble", totalProducts: "Total produits", totalEmployees: "Total employ√©s", totalTasks: "Total t√¢ches", totalHours: "Total heures", totalTickets: "Total tickets" },
    employees: { name: "Nom", email: "E-mail", phone: "T√©l√©phone", address: "Adresse", birthday: "Anniversaire", id: "No d‚Äôemploy√©", edit: "Modifier", delete: "Supprimer", disable: "D√©sactiver", enable: "Activer", disabled: "D√©sactiv√©", enabled: "Actif", active: "Actif", role: "R√¥le", status: "Statut" },
    products: { name: "Nom du produit", stock: "Stock", price: "Prix", category: "Cat√©gorie", updateStock: "Mettre √† jour le stock" },
    tasks: { title: "Titre", description: "Description", status: "Statut", priority: "Priorit√©", due: "√âch√©ance", updateStatus: "Modifier le statut", open: "Ouvert", inProgress: "En cours", done: "Termin√©", delete: "Supprimer" },
    time: { hours: "Heures", date: "Date", start: "Heure de d√©but", end: "Heure de fin", comment: "Commentaire", add: "Ajouter du temps", running: "En cours", paused: "En pause", stopped: "Arr√™t√©" },
    support: { newTicket: "Nouveau ticket", titleLabel: "Titre", titlePlaceholder: "Titre court", message: "Message", messagePlaceholder: "D√©cris le probl√®me‚Ä¶", priority: "Priorit√©", low: "Faible", medium: "Moyenne", high: "Haute", createTicket: "Cr√©er un ticket", ticketOverview: "Tickets", searchPlaceholder: "Rechercher par titre / message‚Ä¶", open: "Ouvert", inProgress: "En cours", closed: "Ferm√©", comment: "Commentaire", addComment: "Ajouter un commentaire", commentPlaceholder: "√âcrire un commentaire‚Ä¶", commentAdded: "Commentaire enregistr√©.", delete: "Supprimer", dashboard: "Tableau Support", kpiOpen: "Tickets ouverts", kpiInProgress: "En cours", kpiClosed24h: "Ferm√©s (24h)", kpiOverSla: "Hors SLA", slaLow: "SLA Faible: 72h", slaMedium: "SLA Moyen: 48h", slaHigh: "SLA √âlev√©: 24h" },
    errors: { fail: "√áa n‚Äôa pas fonctionn√©.", retry: "R√©essaie.", load: "Impossible de charger les donn√©es.", permissionDenied: "Permission refus√©e." },
    feedback: { ok: "Tout bon.", warn: "Attention‚Ä¶", err: "Erreur." }
  }
};

// ======================================================================
// üî• Sprachsystem 2.0 ‚Äì stabil, schnell, fehlertolerant
// ======================================================================

export let currentLang = localStorage.getItem("lang") || "de";

export function setLang(langCode) {
  if (!LANG[langCode]) {
    console.warn(`‚ö†Ô∏è Sprache '${langCode}' existiert nicht ‚Äì fallback auf 'de'`);
    langCode = "de";
  }
  currentLang = langCode;
  localStorage.setItem("lang", langCode);
}

export function getLang() {
  return currentLang;
}

export function t(path) {
  if (!path || typeof path !== "string") return "";
  const parts = path.split(".");
  let value = LANG[currentLang];
  for (const p of parts) {
    if (!value || typeof value !== "object" || !(p in value)) {
      console.warn(`‚ö†Ô∏è Missing translation key: '${path}' in '${currentLang}'`);
      return path;
    }
    value = value[p];
  }
  return typeof value === "string" ? value : path;
}
